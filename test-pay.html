<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Подписка через Paddle</title>
    <script src="https://cdn.paddle.com/paddle/paddle.js"></script>
    <script>
      // Установка Vendor ID
      Paddle.Setup({ vendor: 27173 }); // Твой Vendor ID
    </script>
  </head>
  <body>
    <h1>Оформить подписку</h1>
    <button id="buy-button">Подписаться</button>

    <script>
      // Открытие окна оплаты
      document
        .getElementById("buy-button")
        .addEventListener("click", function () {
          Paddle.Checkout.open({
            product: "pri_01jk8a3ee6s11hvava5w7vyczn", // ID подписки
            email: "test@example.com", // Email клиента
            passthrough: JSON.stringify({
              user_id: "123", // Любая дополнительная информация
              plan: "12-week-plan",
            }),
            successCallback: function (data) {
              console.log("Подписка успешна:", data);
            },
            errorCallback: function (error) {
              console.error("Ошибка оплаты:", error);
            },
          });
        });
    </script>
  </body>
</html>
