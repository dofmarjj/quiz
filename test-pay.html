<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Тестовое подключение с Paddle</title>
    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
  </head>
  <body>
    <h1>Тестовое подключение Paddle</h1>
    <p>Нажмите на кнопку ниже, чтобы протестировать подключение Paddle.</p>

    <a href="#" onclick="openCheckout(itemsList)"><b>Sign up now</b></a>

    <script type="text/javascript">
      // Устанавливаем среду для Paddle
      Paddle.Environment.set("sandbox");

      // Проверка наличия и правильности client token
      const clientToken = "test_7d279f61a3499fed520f7cd8c08"; // Ваш токен

      if (clientToken) {
        // Инициализация Paddle с токеном
        Paddle.Initialize({
          token: clientToken,
        });

        console.log("Paddle подключено успешно с токеном:", clientToken);
      } else {
        console.error("Ошибка: отсутствует client token");
      }

      // define items
      let itemsList = [
        {
          priceId: "pri_01jk8y52vwnq75ychb0xz94ekv", // ID продукта
          quantity: 1, // Количество товара
        },
      ];

      // open checkout
      function openCheckout(items) {
        if (Paddle) {
          Paddle.Checkout.open({
            items: items,
          });
        } else {
          alert("Ошибка подключения с Paddle. Пожалуйста, попробуйте позже.");
        }
      }
    </script>
  </body>
</html>
